<div class="teachers-container">
  <div class ="teachers-header">
    <h2>Lista de profesorado</h2>
    <div class="filter-container">

      <mat-form-field class="filter-input">
        <mat-label>Buscar email</mat-label>
        <input
          matInput
          placeholder="pat@example.com"
          name="corporateMail"
          [(ngModel)]="teacher.mail"
          (ngModelChange)="applyFilters()" />
      </mat-form-field>

      <mat-form-field class="filter-input">
        <mat-label>Buscar nombre</mat-label>
        <input
          matInput
          placeholder="pat@example.com"
          name="corporateMail"
          [(ngModel)]="searchName"
          (ngModelChange)="applyFilters()" />
      </mat-form-field> 

      <button mat-flat-button class="header-action-btn" (click)="goToCreateElement()"> Insertar </button>
    </div>
  </div>
  <div class="mat-elevation-z8 table-container">
    <table mat-table [dataSource]="dataSource">

      <ng-container matColumnDef="Mail">
        <th mat-header-cell *matHeaderCellDef> Mail </th>
        <td mat-cell *matCellDef="let teacher"> {{teacher.mail}} </td>
      </ng-container>

      <ng-container matColumnDef="Nombre completo">
        <th mat-header-cell *matHeaderCellDef> Nombre completo </th>
        <td mat-cell *matCellDef="let teacher"> {{teacher.name + " " + teacher.lastname}} </td>
      </ng-container>

      <ng-container matColumnDef="Teléfono">
        <th mat-header-cell *matHeaderCellDef> Teléfono </th>
        <td mat-cell *matCellDef="let teacher"> {{ teacher.phoneNumber }} </td>
      </ng-container>

      <ng-container matColumnDef="Dirección">
        <th mat-header-cell *matHeaderCellDef> Dirección </th>
        <td mat-cell *matCellDef="let teacher"> {{ teacher.address | truncate:20:'...' }} </td>
      </ng-container>

      <ng-container matColumnDef="Fecha de nacimiento">
        <th mat-header-cell *matHeaderCellDef> Fecha de nacimiento </th>
        <td mat-cell *matCellDef="let teacher"> {{ teacher.dayOfBirth | date:'dd/MM/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="Nif">
        <th mat-header-cell *matHeaderCellDef> NIF </th>
        <td mat-cell *matCellDef="let teacher"> {{teacher.nif}} </td>
      </ng-container>

      <ng-container matColumnDef="Acciones">
        <th mat-header-cell *matHeaderCellDef> Acciones </th>
        <td mat-cell *matCellDef="let teacher"> 
          <img class="small-icon" 
          (click)="openDeleteDialog(teacher.id); $event.stopPropagation()"
          src="assets/delete_icon.png" alt="icon" /> 
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openUpdateDialog(row)"></tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[7]" showFirstLastButtons></mat-paginator>
  </div>
</div>
